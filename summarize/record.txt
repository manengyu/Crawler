python whl包http://www.lfd.uci.edu/~gohlke/pythonlibs/#lxml
注意
# -*-coding:utf-8-*-
.replace('\r\n', '')而非.replace('\n', '')，否则结果只剩最后一行
replace()返回新对象
requests请求时数值中逗号已被移除
请求payload参数时，格式为data=json.dumps({})
map(fun,参数)fun循环作用在参数上，通常fun用lambda
reduce(fun,参数)fun作用在两个参数上，重复作用在结果与下一个参数
raise ErrorName()直接抛出异常
assert expression[,arg] 若expression为False抛出异常或arg
&直接将数据当二进制来进行运算
r = requests.session() r.proxies无用，要写在get()里
* **都为可变参数，*参数当元组传入，**参数当字典传入
字典items()返回元组列表[(key,val),],iteritems()返回元组列表迭代器
^按位异或
json格式必须为双引号，且不能含带u的unicode类型，可用json.dumps()转换
rsttip(u'1.')去除尾部包含.和1,循环匹配.1
全局变量在函数外声明，可直接在函数内使用但不能修改，函数内用global声明可修改，在函数if下会报语法错
to_excel()导出xls时涉及编码可能出现无效，使用xlsx即可
字典取值时，当无此键时[]返加KeyError错误，get()默认返回None,get("b",1)可以设置默认值为1
python2中urllib2变成3中urllib.request,3中urllib包含urllib.request, urllib.parse, urllib.error
MySQLdb语法错误ProgrammingError，键值重复IntegrityError，表结构默认值长度等操作错误OperationalError
处理多个异常时，可以except(ValueError,TypeError)
写接口时，异常里不能有continue,否则响应超时
替换非中文re.subn(u"[^\u4e00-\u9fa5]", u"%", text)[0]
urllib.unquote(args)若参数为已为unicode，刚返回原字符串不再解码，可多次解码，weibo，api碰到
列表生成式表达式[],先找第一个for,再找for后if或for或没有(从左至右)，再找for前if或没有
pandas合并pd.merge(args[0], args[2], how='left', left_index='True', right_index='True', on='')
pandas取行数shape[0],列数shape[1],联合用append()
string indices must be integers意思字符串的索引必须为整型，通常是字符串json未使用loads()直接取值出现
*请求Content-Type为application/x-www-form-urlencoded; charset=UTF-8时需将参数编码成url形式（以数组可能请求不到数据）
若为multipart/form-data; boundary=---...刚以数据组形式提交
使用cursor.fetchall()获取结果时，游标已到结果集最后，再取第二次时无结果
接口处理url数据时，用unquote解码两次且在编码为utf-8后再解，避免直接解unicode
判断为空时，unicode(str)==u"",u"None",u"NaN",u"nan"
正则不匹配某个单词或词组(?:(?!item\")(?!档案列表).)*?
代码避免全局变量，局部修改影响全局的内容，若涉及到应放在统一修改或处配置文件中(jieba加载字典，影响所有文件jieba的使用)
特别注重代码重用，尤其时间，长度等变量（保证改一处，全部修改，否则很容易忘记修改别处导致bug难找）
python函数变量传递属于引用传递（不可变对象相当于传值如整型字符型元组），修改后原值改变
.contents获取所有子项，每个子项作为一个整体
sorted({}.items(), key=operator.itemgetter(1))
\b常称退格(实际作用将当前位置内容替换为空，正则中单词边界也是匹配的空)
html中显示源码标签.replace(u"<", u"&lt;").replace(u">", u"&gt;")
类/实例__dict__将类变量或实例变量转换为字典
字符串不能超过32767
异常捕获范围要精确，不能不太
pandas.read_sql()仅能用于SELECT语句或表，无法增删改

总结
sql字符串拼接注意转换成unicode
pd返回结果时注意空时，None if DataFrame.empty else DataFrame.iloc[0]
文件名不能与模块名重复
找问题先思考报错信息可能造成原因


格式化
%用类C语言，format用{} {}中为空时默认为0
'%s %d-%d' % ('hello', 7, 1)
'{0} {1}:{2}'.format('hello', '1', '7')
'%.3f' % 1.234567869
'{0:.3f}'.format(1 / 3.0)
for i in range(5):  
...  '%.*f' % (i, 1.234234234234234)
for i in range(5):  
...   '{0:.{1}f}'.format(1 / 3.0, i)
%-2s表示占两个字符
{0:a<2}表示左对齐两个字符，不足用a填充默认用空格填充,^居中,>右对齐
时间戳：timestamp = time.time()
戳转结构化：struct_time = time.localtime(timestamp)
结构转格式化：time.strftime("%a, %d %b %Y %H:%M:%S +0000", struct_time)  #周 日 月
格式化转结构化：time.strptime(struct_time， "%a, %d %b %Y %H:%M:%S +0000")
结构化转戳：timestamp = time.mktime(struct_time)
datetime
datetime和date类型转时间戳：time.mktime(var.timetuple())
计算本周一日期：datetime.date.today() - datetime.timedelta(days=now.weekday())

yum install vixie-cron
yum install crontabs
chkconfig crond on开机启动
crond:(5参或6参或7参)
秒 分 时 日 月 周 年
5参无秒年，6参无年,?表示不设置值无关紧要只能在月周中使用
星期时1周日，2周一（有的0周日，1周一用时注意）
*/5 * * * * 命令 >> /a.log 2>&1  # 每五钟执行一次,日志全输出到a.log
04,34 * * * *  # 第小时的04和34分钟执行
0 06 * * *  #第天上午6点执行
/dev/null 表示空设备文件
0 表示stdin标准输入
1 表示stdout标准输出
2 表示stderr标准错误
crontab中不能出现%

日志一共分成5个等级，从低到高分别是：DEBUG INFO WARNING ERROR CRITICAL
yield类似return，函数执行至yield刚返回，下次迭代紧接yield后执行
可迭代对象拥有__iter__方法，或者说能用for循环对象
迭代器拥有next或__next__和__iter__方法特殊对象，定义方式：一（），二yield此时属于生成器
编码，时间戳转换：http://tool.chinaz.com/Tools/unixtime.aspx
lxml.fromstring(最好是unicode类型，否则解析时用到正则易出现编码不对应)
python利用phantomjs执行js时，定位元素只能在第一个元素基础上查找下一个如
u"""document.querySelectorAll('[change-type="invest"]')[0].getElementsByClassName('pagination-next  ')[0].getElementsByTagName('a')[0].click();"""
Mac(CR-\r) Linux(LF-\n) Windows(CRLF-\r\n)

https://juejin.im/post/599e14875188251240632702
git远程仓库至本地
方法一
git clone http://....git
方法二
git init
git remote add origin http://...git  # 将本地库与远端库关联
git pull origin master

git pull等价git fetch + git merge拉取下来合并(合并时有冲突需要手动解决冲突)
git merge dev合并dev分支到当前分支
git log --graph --pretty=oneline --abbrev-commit查看分支合并图
生成密钥


BSD开源协议是一个给于使用者很大自由的协议。可以自由的使用，修改源代码，也可以将修改后的代码作为开源或者专有软件再发布。当你发布使用了BSD协议的代码，或者以BSD协议代码为基础做二次开发自己的产品时，需要满足三个条件：
1.如果再发布的产品中包含源代码，则在源代码中必须带有原来代码中的BSD协议。
2.如果再发布的只是二进制类库/软件，则需要在类库/软件的文档和版权声明中包含原来代码中的BSD协议。
3.不可以用开源代码的作者/机构名字和原来产品的名字做市场推广。
BSD代码鼓励代码共享，但需要尊重代码作者的著作权。BSD由于允许使用者修改和重新发布代码，也允许使用或在BSD代码上开发商业软件发布和销 售，因此是对商业集成很友好的协议。
很多的公司企业在选用开源产品的时候都首选BSD协议，因为可以完全控制这些第三方的代码，在必要的时候可以修改或者 二次开发

如果把一个事务可看作是一个程序,它要么完整的被执行,要么完全不执行。这种特性就叫原子性
IO操作类型http://www.cnblogs.com/fanzhidongyzby/p/4098546.html

ip http://881free.com/  http://www.xdaili.cn/freeproxy.html
https http://mp.weixin.qq.com/s/9BkJ90CE6sNuUXJjiwHlGg http://www.jianshu.com/p/072a657337ae
get post:https://juejin.im/entry/599eb96ef265da24722fc15b

一行9*9
for a in [reduce(lambda x, y: x + y, ['{1}*{0}={2:<2} '.format(i, j, i*j) for j in range(1, i+1)]) for i in range(1, 10)]: print a
print "\n".join([" ".join(['%d*%d=%2-d'%(i,j, i*j) for j in range(1, i+1)]) for i in range(1, 10)])

python3
print中文
import io
import sys
sys.stdout = io.TextIOWrapper(sys.stdout.buffer,encoding='utf-8'
新增功能
[k for k in {}.keys() & [1,2]]
mydict = {1:3,2:4}# &表示运算k in [1,2],True返回k
[k: mydict[k] for k in mydict.keys() & [1,2]]
列表有交集方法.intersection(list2)
与2区分
MySQLdb-PyMySQL
urlib.unquote()-urllib.parse.unquote()
3中无iteritems(),iterkeys(),itervalues(),has_key()
2转3时(print>print(),unicode>str,Exception,e>Exception as e,MySQLdb>pymysql)

程序在编译时变量名将全部转换成内存地址编号，二进制程序变量名已不存在，变成地址编号与址址内容相对应

app抓包fiddler,upd包可用wireshark
shili
https://github.com/adafruit/Adafruit_Python_DHT
http://www.devstore.cn/essay/essayInfo/9430.html
pywin32
https://sourceforge.net/projects/pywin32

python函数先返回参数加函数对象再回调耗时任务
def profile_update(inputs):
    #take updates and update the database 
    def post_processing_task():
        #do maintainence processing now..
    return ("it worked", post_processing_task)
	
questions:
多进程调用接口训练模型卡住进行不下去
windows下如何查看python所启动的进程
flask接口get, post数据的提交

# -*-coding:utf-8-*-用于文件编码
'我'  # 编为utf-8
u'我'  # 编为unicode
import sys
reload(sys)
sys.setdefaultencoding(u"utf-8")用于python系统字符串转换时编码
*linux后台打印含中文unicode时，若不加这三行，会以ascii编码，结果报错(日志最好不用print,用logging)
sys.stdout_encoding输出编码，与命令行编码有关
二进制与unicode运算python默认换算成unicode来运算

Commands out of sync; you can't run this command now执行语句仅查询未返回结果含分号情况，python要求有请求有返回


